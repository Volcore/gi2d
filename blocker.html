<!DOCTYPE html>
<html>
  <head>
    <title>Global Illmuniation in 2D Example</title>
    <script src="gi2d.js"></script>
  </head>
  <body>
    <div>
    <canvas id="gi2d_canvas" width="1024" height="768"></canvas>
    </div>
    <div>
      <button onclick="refresh();">Refresh</button>
      # Samples: <input type="number" value="32" id="inputNumSamples"></input>
      # Hemispherical Samples: <input type="number" value="128" id="inputNumHemiSamples"></input>
    </div>
    <script type="text/javascript">
      gi2d = new GI2D(document.getElementById("gi2d_canvas"));
      var third = 1.0/3.0;
      var wall1 = gi2d.addWall(new Wall(new Line([0, 0], [1, 0]), 10.0, 0.0));
      var wall2 = gi2d.addWall(new Wall(new Line([1, 1], [0, 1]), 0.0, 0.5));
      var wall3 = gi2d.addWall(new Wall(new Line([0, 0], [0, 1]), 0.0, 0.5));
      var wall4 = gi2d.addWall(new Wall(new Line([1, 0], [1, 1]), 0.0, 0.5));
      var wall5 = gi2d.addWall(new Wall(new Line([third, third], [third, 2*third]), 0.0, 0.5));
      var wall6 = gi2d.addWall(new Wall(new Line([third, 2*third], [2*third, 2*third]), 0.0, 0.5));
      var wall7 = gi2d.addWall(new Wall(new Line([third, third], [2*third, third]), 0.0, 0.5));
      var wall8 = gi2d.addWall(new Wall(new Line([2*third, third], [2*third, 2*third]), 0.0, 0.5));
      function refresh() {
        gi2d.drawScene();
        var num_samples = document.getElementById('inputNumSamples').value;
        var num_hemi_samples = document.getElementById('inputNumHemiSamples').value;
        gi2d.setNumHemiRays(num_hemi_samples);
        gi2d.drawIrradianceOnWall(wall2, num_samples, 25.0);
        gi2d.drawLegend();
      }
      refresh();
    </script>
  </body>
</html>

